---
layout: post
title:  "面试杂记"
date:   2016-04-04
category: jekyll
published: true
excerpt: 
meta: 
author: 
tags: [interview]
---

{{site.b}}在超闪工作了三年半，期间学到很多东西，但随着自己对职业生涯规划的逐渐明确与清晰，越来越感觉到是时候需要行动起来蹦向认准的方向了，虽然在超闪的工作任务目前不是很重，但这绝对不是好事。最近面试一家做引擎开发与游戏开发的公司，初试与复试就隔工作日的一天，这当然是我比较欣慰的地方。期间先是技术主管A的面试，随后是人事B，复试的话是技术VP，姑且称其为C。

## 技术主管
{{site.b}}A的面试主要针对简历中明确写出来的内容。首先就是自我介绍，一来缓和求职者的情绪，二来准备进入面试交流。此期间我观察到A的举动：他并没有在我简述期间看简历，而是认真聆听，这比较另我意外，自然我觉得他比较尊重求职者。

### 图形图像的渲染管线流程
这个当是我的菜，这里就不记录了，有兴趣翻阅博客CG类文档。

### 引擎与原生flash的不同，是不是生成的swf文件就可以直接用引擎跑
{{site.b}}Mirage与flash除了在显示对象上很大程度不一样外，其他非显示对象与flash基本一致，Mirage的显示对象没有像flash那样有很冗长的继承层次结构，反而更加平面化，这样降低了Mirage对显示对象的管理难度。A听完很是兴奋，他好像得到了什么宝贝是的按照他的思路说了一遍我刚才的内容，我说是，A立马说“不错，非常好的架构”，有种想拍桌子的意思。这让我们的谈话开始变得轻松起来，我此时马上意识他A是个geek。

### 优化的做法？
1. 从架构层开始就应该设计一种伸缩性强的框架。我在说这点的时候汉语“伸缩性”忘记了，说了英语flexibility，A补充说“伸缩性”。A听完后说这个与优化有什么关系，他感觉怪怪的。我当时的想法是这样才能方便重构，方便优化，这是优化的基本条件。初试结束后我感觉这点确实不太重要，甚至恰恰相反，好的伸缩性是因为让渡了性能的结果，面试期间说出来可能出于自己在超闪工作中要经常性的优化来自PC页游的项目程序，感性上认为“你伸缩性强点，好让我方便点，不然我的工作会进行的好艰难”。
2. 配置文件序列化，直接将其在内存中的存储格式输出到硬盘保存，方便读取，至少省去了解析这么一个步骤；
3. 将资源文件打包处理，打包的目的至少有三条：1、减少资源量，便于网络传送，因为要经过压缩；2、转码格式，以适应具体应用的最佳要求；3、统一一次IO处理；
4. 如果某一帧压力过大的话，先确定压力来源，有可能来自渲染、有可能来自CPU的计算，有可能来自IO（A说还有一种，后来谈话说是cg），于是我们可以采用分帧或者多线程的方式；
5. 针对不同的语言进行语言级的优化，比如Mirage引擎中用{}来创建对象要比new Object()性能高；

### flash中多线程是怎么样的
{{site.b}}flash中多线程与我们Mirage多线程重要的区别是，我们的没有消息通知，所以就必须一遍遍轮询子线程检测处理是否结束。由于多线程方式在具体应用中会出现非原子访问的操作，一般需要加上互斥锁。鉴于互斥锁的开销比较大，并且我们完全可以不让子线程参与游戏应用逻辑的处理这两点，我们便仅仅将资源从本地硬盘载入内存的工作交付子线程。子线程不能参与尤其与显示列表相关的操作，即不能让子线程创建个Sprite实例，添加到显示列表并且期望能正确显示出来。Mirage子线程轮训检查的工作会不停的增加内存碎片，具体的表现是内存不停增长，直到因Mirage从系统申请的内存不够导致gc逻辑的执行，才会释放掉这些临时的内存碎片。

### 开发AS3库都做了什么
{{site.b}}人物、地形、摄像机、技能、资源管理、手势管理。

### “有较强的文档编辑能力”是什么意思。
这是我简历中自我评价的一句话，因为我习惯写博客，对于排版、文字组织等方面应该较之他人强点。

{{site.b}}能记住的就这些重要的问题了，A在结束后总结了我的现状：对AS熟悉，熟悉计图，但不了解JS，我说是，没几句后他便离开。我觉得他应该或多或少问问关于设计模式、数据结构等方面的知识，我觉得首先这些知识是哪门语言基本都需要的，其次我面试的岗位的工作内容就是开发龙骨动画编辑器，如果对设计模式熟悉的话，肯定是大有助于框架的搭建，至少能够更容易理解他们的框架。

## 人事的面谈
{{site.b}}与人事的交流显得更加轻松，期间我说了句题外话“你的工牌怎么与你本人不像”以缓和当时思考棘手的人事问题的大脑，她的问题是“如何让人事在面试期间能判断技术人员到底（在技术方面）行还是不行？” 这个问题我最后的答案是“还是交给技术人员面试吧”，当然也出了点主意比如与其博弈，说白了就是诈唬。此后B介绍了招聘公司的组织结构，也简单聊了聊我目前公司的结构，B的问题就是很传统的那些：

* 为什么要离职；确定了个人发展的技术方向，就要努力靠近，超闪暂时不提供这样的岗位。
* 竞业协议；
* 你对加班的看法：这个问题我此前几年就思考过了，我的回答从两个方面入手，第一：加班本身是不合理的，因为8个小时工作结束后，就需要进行一些人际之间的交流，大脑的放松，体力的恢复，或者进行自我技能的修炼与新技能的学习；第二：加班不可避免，也不能抵触，但要合理加班，干个通宵，第二天睡觉算什么加班啊，应该是拿出自主的8小时中的一些时间（不要影响休息）去做原本计划2天或者1半做的工作，从而在一个相对较长的时间跨度上从宏观的尺度缩小工期，这才是合理的加班；
* 希望的薪资与现在的薪资；
* 还有什么问题问我；我问了薪资提升空间与职位提供空间；社保、公积金及其缴纳额度；节假日、周末上班情况。

{{site.b}}与B的谈话结束后，被告知5天左右给回复，我便离开。回去后坐了不久，通知说与当天相接的下一个工作日复试。

## VP面试
{{site.b}}C是招聘公司的合伙人，性杨，据此后人事说在国内flash方面很有名。C显然比初试的A与B更加老气、沉稳。事后回忆他的问题也更加宽泛与尖锐，C并没有集中在具体的某一个技术点上，主要问了些Mirage引擎相关的问题，鉴于对公司产品品牌的维护，下面大部分仅提及C的问题而不作答，当然他的目的是了解我对Mirage的熟悉程度，从而得出一些他认为更加客观的结论。这当然是我的理解。

* 你最得意的项目是哪个，具体都干了什么？
* Mirage就是个flash虚拟机？
* Mirage有什么坑？干了三年多，自我感觉都形成了避坑意识，工作的时候，下意识的就避让了坑的存在，感觉这样才是正常的，。。。让我说点什么好。
* Mirage目前瓶颈是什么，还有哪些可提高的地方？
* Mirage有什么优势？Mirage的优势我觉得主要是其前生来自8位，16位红白非智能机时代，大师对底层硬件的理解非常深入，能够最大程度的让硬件处理必要的计算，整体表现为内存占用相对低，渲染性能快等优势。其他的优势比如3D引擎方面Mirage是直接原生实现诸多引擎的接口，高层只需要专注游戏逻辑，而flash的3D接口，提供的函数更加类似OpenGL提供的硬件层的接口（当然OpenGL也有提供软接口的，它毕竟工作在图形显下驱动程序之上），如此一来需要在AS层首先搭建一个引擎（诸如away3D，flare3D等）程序，才能更快捷、方便的开发应用程序，这一层搭建是AS层面的，比起Mirage的C++/C层面来说，在性能上肯定会稍逊一筹。
* 如果我投入像Unity那样的人力与财力，你认为Mirage会成为下一个Unity吗？这个问题我从Mirage之父李大师的性格出发，说了自己的看法。C强调：我们只谈技术。
* 给你一个问我问题的机会，你最想问什么？我最关心的其实就是能不能从flash平滑过渡到底层开发，当然我本次面试的工作内容应该涉及到一些底层。不过从C一再强调我不会JS的样子来看，可能不太顺利，至少一时间是这样。其实我觉得对我这不是问题，学习新技能是我乐此不疲的事情，更何况JS与AS有着同源ECMAScript。（20160411补充：今天与同事聊天说起这事，同事马上否定了我，说这个回答简直跟狗屎无异，用人公司想要听的是你有多大的才能能为其所用，而不是把他们当作技术的跳板。的却事后回忆这部分回答着实欠妥，其实我就是想真实的表达自己，说些违心的话非我所愿，但实际上：大家都爱听好话。）
* 你的优势。我从物理学专业出发，强调自己在引擎开发中的物理碰撞、图形渲染中的光照、光线追踪、矩阵、向量等线代方面有着科班出生的优势。第二个优势就是：真喜欢写程序，并不是“被逼的”。想想十一长假在家写7天程序的感觉那叫一个爽。
* 了解我们公司吗？
* 简历上写是项目经理，那么你可能不太多的涉及到技术研发？超闪的项目经理就是带领一些技术人员做开发。C秒懂。

{{site.b}}与C的交流中，有二个问题是直接否定的，一是JS，二是谈话期间的一个关于Mirage作为一款产品的问题。面试结束后，另外一个人事（不是B）与我简单聊了聊，此后我我便离开。整体下来我感觉还行，姑且不说脾气秉性他们能不能接受，就单从问答来说感觉拿到offer的概率是65%左右，我的推理是这样的，招聘公司要求精通AS与JS，我暂时不懂JS的话，折一半，但同时我熟悉计图这个加分项，姑且加1分（满10分计），同时招聘信息写的明确，是招聘AS高级工程师，并不是JS高级工程师或者AS、JS双精通高级工程师，这样看来可能更加注重AS的能力，所以上面的折半补回来1分，这样7：3. 这是我尽可能客观的推测，我也不叫真（谁知道加分项是加1分还是半分，AS与JS是不是稍微偏重AS等）。


## 总结
{{site.b}}面试之初我比较担心自己在面谈期间可能说的不会太多，一来我不善言谈，二来我不愿进行不必要的交流，所以问题回答了我不会再说写无关痛痒的东西。也不知道从哪里突然奔出来一句“平常心”，瞬间感觉良好很多。在“平常心”的光环下，我自然不太在意最后的结果，但一定要说说收货。这次面试最重要的心得就是：人一定要折腾，不折腾像死水一般，你会静静死去，折腾能给你带来活力，是生命欣欣向荣的体现。不要把这里的折腾理解的狭隘，应该宽一点，比如多交流，多沟通，多与外界沟通，多参与活动（收费的、志愿的）等。折腾可能会给自己带来挫折，不过我觉得鼓励与精神层面的能力提高是更多的，这就是所谓的情商。










==EOF==




